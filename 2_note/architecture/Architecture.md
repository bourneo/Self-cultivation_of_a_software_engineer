# Architecture / 架构

---

## 模型设计

---

### UML / Unified Model Language / 统一建模语言

**序列图：**

> 也叫时序图、顺序图。以时间为序的表示方法，主要用来描述对象之间的时间顺序。
>
> 四个元素：对象，生命线，消息，激活。

**用例图：**

**类图：**

**状态图：**

### 常见的设计工具

Visio：绘制流程图和示意图。

Rational Rose：可视化建模工具，常用来绘制**序列图**、**用例图**、**类图**、**状态图**。

PowerDesigner：数据库模型设计工具，如果数据库自用 MySQL，可以用 MySQL Workbench 作为替代。

### 数据库模型设计

---

## 面向对象

---

### 软件系统设计的目标

1、可扩展：新特性能够很容易的添加到现有系统中，不会影响原本的东西。

2、可修改：当修改某一部分的代码时，不会影响到其它不相关的部分。

3、可替代：将系统中某部分的代码用其它有相同接口的类替换时，不会影响到现有系统。

### OOA / Object-Oriented Analysis：面向对象分析

OOA 的主要原则：

**抽象：**

从许多食物中舍弃个别的、非本质的特征，抽取共同的、本质性的特征，就叫做抽象。愁乡石形成概念的必须手段。

抽象原则有两个方面的意义：

    1，尽管问题域中的事物是很复杂的，但是分析员并不需要了解和描述它们的一切，只需要分析其中与系统目标有关的事物及其本质性特征；

    2，通过舍弃个体事物在细节上的差异，抽取其共同特性而得到一批事物的抽象概念；
    抽象是面向对象方法中使用最为广泛的原则。抽象原则包括过程抽象和数据抽象两个方面。

过程抽象是指，任何一个完成确定功能的操作序列，其使用者都可以把它看做一个单一的实体，尽管实际上它可能是由一系列更低级的操作完成的。
数据抽象是根据施加于数据之上的操作来定义数据类型，并限定数据的值只能由这些操作来修改和观察。

数据抽象是 OOA 的核心原则。它强调把数据（属性）和操作（服务）结合为一个不可分的系统单位（即对象），对象的外部只需要知道它做什么，而不必知道它如何做；

**封装：**

就是把对象的属性和服务结合为一个不可分的系统单位，并尽可能隐蔽对象的内部细节；

**继承：**

特殊类的对象拥有的其一般类的全部属性与服务，称作特殊类对一般类的继承；

在 OOA 中运用继承原则，就是在每个由一般类和特殊类形成的一半特殊结构总，把一般类的对象实例和所有特殊类的对象实例都共同具有的属性和服务，一次性的在一般类中进行显式的定义。

在特殊类中不在重复的定义一般类中已定义的东西，但是在语义上，特殊类却自动的、隐含地拥有它的一般类（以及所有更上层的一般类）中定义的全部属性和服务。继承原则的好处是：是系统模型比较简练也比较清晰；

**分类：**

就是把具有相同属性和服务的对象划分为一类，用类作为这些对象的抽象描述。分类原则实际上是抽象原则运用于对象描述时的一种表现形式。

**聚合：**

又称组装，其原则是：把一个复杂的事物看成若干比较简单的事物组装体，从而简化对复杂事物的描述；

**关联：**

是人类思考问题时经常运用的思想方法：通过一个事物联想到另外的事物。能使人发生联想的原因是事物之间确实存在着某些联系；

**消息通信：**

这一原则要求对象之间只能通过消息进行通信，而不允许在对象之外直接地存取对象内部的属性。通过消息进行通信是由于封装原则而引起的。在 OOA 中要求消息连接表示出对象之间的动态联系；

**粒度控制：**

一般来讲，人在面对一个复杂的问题域时，不可能在同一时刻既能纵观全局，又能洞察秋毫。因此需要控制自己的视野。考虑全局时，注意其大的组成部分，暂时不详查每一部分的具体的细节。考虑某部分的细节时则暂时撇开其余的部分。着就是粒度控制原则；

**行为分析：**

显示世界中事物的行为是复杂的。由大量的事物所构成的问题域中各种行为旺旺相互依赖交织；

### OOA 面向对象分析产生三种模型

**对象模型：**

对用例模型进行分析，把系统分解成互相协作的分析类，通过类图、对象图描述对象、对象的属性、对象间的关系，是系统的静态模型；

**动态模型：**

描述系统的动态行为，通过时序图、协作图、描述对象的交互，以揭示对象间如何协作来完成每个具体的用例。单个对象的状态变化、动态行为可以通过状态图来表示；

**功能模型**：

### OOA 方法的具体步骤

**确定对象和类：**

这里所说的对象是对数据及其处理方式的抽象，它反映了系统保存和处理现实世界总某些事物的信息能力。

类是多个对象的共同属性和方法集合的描述，它包括如何在一个类中建立一个新对象的描述；

**确定结构 structure：**

结构是指问题域的复杂性和连接关系。类成员结构反映了泛华 — 特化关系，整体 - 部分结构反映整体和局部之间的关系；

**确定主题 subject：**

主题是指事物的总体概貌和总体分析模型；

**确定属性 attribute：**

属性就是数据元素，可用来描述对象或分类结构的实例，可在图中给出，并在对象的存储中指定；

**确定方法 method：**

方法是在收到消息后必须进行的一些处理方法：方法要在图中定义，并在对象的存储中指定。

对于每个对象和结构来说，那些用来增加、修改、删除和选择一个方法本身都是隐含的（虽然它们是要在对象的存储中定义的，但并不在图上给出），而有些则是显示的。

### OOD / Object-Oriented Design：面向对象设计

面相对象设计的五个基本原则（SOLID）:

    S：单一职责原则
    O：开放关闭原则
    L：里氏替换原则
    I：接口隔离原则
    D：依赖倒置原则

**单一职责原则 / Single Responsibility Principle：**

> 定义：一个类有且仅有一个职责，只有一个引起它变化的原因。
>
> 简单来说一个类只做好一件事就行，不去管跟自己不相干的，狗拿耗子多管闲事，其核心就是解耦以及高内聚。

**开放关闭原则 / Open Closed Principle：**

> 定义：一个软件实体如类，模块和函数应该对扩展开放，而对修改关闭。
>
> 具体来说就是你应该通过扩展来实现变化，而不是通过修改原有的代码来实现变化，该原则是面相对象设计最基本的原则。
>
> 实现开闭原则的指导思想就是：
>
> 1、抽象出相对稳定的接口，这部分应该不改动或者很少改动
>
> 2、封装变化

**里氏替代原则 / Liskov Substitution Principle：**

> 定义：所有引用基类的地方必须能透明地使用其子类的对象。
>
> 简单来说，所有使用基类代码的地方，如果换成子类对象的时候还能够正常运行，则满足这个原则，否则就是继承关系有问题，应该废除两者的继承关系，
>
> 这个原则可以用来判断我们的对象继承关系是否合理。

**接口隔离原则 / Interface Segregation Principle：**

> 定义：不能强迫用户去依赖那些他们不使用的接口。
>
> 简单来说就是客户端需要什么接口，就提供给它什么样的接口，其它多余的接口就不要提供，不要让接口变得臃肿， 否则当对象一个没有使用的方法被改变了，这个对象也将会受到影响。
>
> 接口的设计应该遵循最小接口原则，其实这也是高内聚的一种表现，换句话说，使用多个功能单一、高内聚的接口总比使用一个庞大的接口要好。

**依赖倒置原则 / Dependence Inversion Principle：**

> 定义：高层模块不应该依赖低层模块，两者都应该依赖其抽象；抽象不应该依赖细节；细节应该依赖抽象。
>
> 其实这就是我们经常说的 “针对接口编程”，这里的接口就是抽象，我们应该依赖接口，而不是依赖具体的实现来编程。

### OOP / Object Oriented Programming：面向对象编程

**封装：**

> 就是将一个类使用和实现分开，只保留部分接口和方法与外部联系 。

**继承：**

> 子类自动继承其父级类中的属性和方法，并可以添加新的属性和方法或者对部分属性和方法进行重写。继承增加了代码的可重用性。

**多态：**

> 多个子类中虽然都具有同一个方法，但是这些子类实例化的对象调用这些相同的方法后却可以获得完全不同的结果，多态性增强了软件的灵活性。

###

###

###

---

## 提高部分

---

###

---












---

参考链接：

- [谈谈面向对象设计 (OOD) 原则](https://www.jianshu.com/p/e378025920f8)
- [OOA (面向对象分析) & OOD (面向对象设计)& OOP (面向对象编程)](https://developer.aliyun.com/article/663902)
- []()
- []()
- []()

---











