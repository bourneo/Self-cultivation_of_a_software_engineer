
Mybatis 工作笔记
	
	
	
	
	
	
	
	
	
	
	
	
	
	
Mybatis 迭代数组：
	<foreach collection="userIds" index="index" item="item" open="(" separator="," close=")">
		#{item}
	</foreach>

Mybatis 条件判断：
	<if test="goodsTypeId != 0">and n.GOODS_TYPE_ID=#{goodsTypeId}</if>
	<if test="recommendRank == 1">order by base_num desc</if>
	
	
	
	
	
模糊查询：
	GOODS_NAME like CONCAT(CONCAT('%', #{goodsNameLike,jdbcType=VARCHAR}),'%')
	
有效时间：
	BETWEEN m.START_TIME and m.END_TIME
	
参数类型：
	#{openId,jdbcType=BIGINT}
	
日期格式：
	DATE_FORMAT(NOW(),'%Y%m%d %H%i%s')
	
	
	
	
	
resultType 和 resultMap 区别：
	resultType：
		不需要和实体类进行映射转换；
		比如：
			resultType="map"
			resultType="hashmap"
			resultType="string"
			resultType="java.lang.Integer"
	
	resultMap：
		需要和实体类进行映射转换；
		需要在配置文件中定义一个对应的 resultMap 作为映射的标准；
		比如：
			<resultMap id="PrizeDrawRulesMap" type="com.marketing.mobile.domain.PrizeDrawRules">
				<id column="PRIZE_DRAW_ID" jdbcType="BIGINT" property="prizeDrawId"/>
				<result column="PRIZE_DRAW_LIMIT" jdbcType="BIGINT" property="prizeDrawLimit"/>
				<result column="PRIZE_WIN_LIMIT" jdbcType="BIGINT" property="prizeWinLimit"/>
				<result column="PRIZE_DRAW_NOTES" jdbcType="VARCHAR" property="prizeDrawNotes"/>
				<result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime"/>
				<result column="INSTANCE_ID" jdbcType="BIGINT" property="instanceId"/>
			</resultMap>
			<select id="getRecommendGoodsToday" resultMap="NewGoodsMap">
			</select>
		类型：
			jdbcType="VARCHAR"
			jdbcType="BIGINT"
			jdbcType="TIMESTAMP"
		比如：
			resultMap="PrizeDrawRulesMap"
	
	
	
	
	
parameterType 和 resultMap 区别：
	比如：
		parameterType="com.livedoing.app.marketing.mobile.wxPublicAcountPrize.domain.PrizeRecord"
	
	
	
	
	
	
	
Mybatis中javaType和jdbcType对应关系：
	
	JDBC Type			Java Type
	
	CHAR				String
	VARCHAR				String
	LONGVARCHAR			String
	NUMERIC				java.math.BigDecimal
	DECIMAL				java.math.BigDecimal
	BIT					boolean
	BOOLEAN				boolean
	TINYINT				byte
	SMALLINT			short
	INTEGER				int
	BIGINT				long
	REAL				float
	FLOAT				double
	DOUBLE				double
	BINARY				byte[]
	VARBINARY			byte[]
	LONGVARBINARY		byte[]
	DATE				java.sql.Date
	TIME				java.sql.Time
	TIMESTAMP			java.sql.Timestamp
	CLOB				Clob
	BLOB				Blob
	ARRAY				Array
	DISTINCT			mapping of underlying type
	STRUCT				Struct
	REF					Ref
	DATALINK			java.net.URL[color=red][/color]
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	