		
		
微信支付
		
		
	扫码支付：
		
		模式一：
			前端发送订单信息请求二维码；
			后台生成二维码返回前端；
			用户扫描二维码；
			微信发起回调，带productid和用户的openid等参数；
			后台收到回调，生成后台订单；
			后台调用微信支付【统一下单API】请求下单；
			微信生成预支付交易，返回交易会话标识（prepay_id）；
			后台得到交易会话标识（prepay_id）；
			后台将 prepay_id 返回给微信支付；
			微信支付根据 prepay_id，发起用户端授权支付流程；
			用户在微信输入密码确认支付，微信客户端提交支付授权；
			微信支付验证后扣款，完成交易；给微信客户端返回交易结果；
			微信支付异步通知商户后台系统支付结果；
			未收到支付通知的情况，商户后台系统调用。
			
		模式二：
			前端发送订单信息请求二维码；
			后台生成订单；
			后台调用微信支付【统一下单API】请求下单；
			微信生成预支付交易，返回交易会话的二维码链接code_url；
			后台根据返回的 code_url，生成二维码返回前端；
			用户扫描二维码，微信客户端将扫码内容发送到微信支付；
			微信支付验证链接有效性后，发起用户端授权支付流程；
			用户在微信输入密码确认支付，微信客户端提交支付授权；
			微信支付验证后扣款，完成交易；给微信客户端返回交易结果；
			微信支付异步通知商户后台系统支付结果；
			未收到支付通知的情况，商户后台系统调用。
	
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		